<h1>Parents</h1>

<%= will_paginate @profiles %>

<small>Note: if a parent has created an account, but has not yet filled out their profile, they will not appear on this list. They can log in, but will be unable to add or register students until they've created a profile with their contact and emergency contact information.</small>

<div class="card">
  <div class="card-header" role="tab" id="headingOne">
    <h5>
      <a data-toggle="collapse" href="#search_collapse" aria-expanded="true" aria-controls="collapseOne">
        Parent search
      </a>
    </h5>
  </div>

  <div id="search_collapse" class="collapse" role="tabpanel">
    <div class="card-block">
      <%= render partial: 'teacher/shared/search_form', locals: { model: :parents } %>
    </div>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody>
    <% @profiles.each do |profile| %>
      <tr>
        <td><%= profile.name %></td>
        <td><%= link_to 'Students', teacher_parent_students_path(profile.parent) %></td>
        <td><%= link_to 'Show', teacher_parent_profile_path(profile.parent) %></td>
        <td><%= link_to 'Edit', edit_teacher_parent_profile_path(profile.parent) %></td>
        <td><%= link_to 'Delete', teacher_parent_path(profile.parent), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= will_paginate @profiles %>
